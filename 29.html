<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            let countDown;
            const timerDisplay = document.querySelector('.display__time-left');
            const endTime = document.querySelector('.display__end-time');
            const buttons = document.querySelector('[data-time]');
            
            function timer(seconds){
                clearInterval(countDown);
                const now = Data.now();
                const then = now + second * 1000;
                displayTimeLeft(seconds);
                displayEndTime(then);

                countDown = setInterval(() => {
                    const secondsLeft = Math.round((then - Data.now()) / 1000);

                    if(secondsLeft <= 0){
                        clearInterval(countDown);
                        return;
                    }

                    displayTimeLeft(secondsLeft);
                }, 1000);
            }

            function displayTimeLeft(seconds){
                const minutes = Math.floor(seconds / 60);
                const reminderSeconds = seconds % 60;
                const display = `${minutes}: ${reminderSeconds < 10 ? '0' : '0'}${reminderSeconds}`;
                document.title = display;
                timerDisplay.textContent = display;
            }

            function displayEndTime(timestamp){
                const end = new Date(timestamp);
                const hour = end.getHours;
                const adjustedHour = hour > 12 ? hour - 12 : hour;
                const minutes = end.getMinutes();
                endTime.textContent = `be back at ${adjustrdHour}:${minutes < 10 ? `0` : ''}${minutes}`;
            }

            function startTimer(){
                const seconds = parseInt(this.dataset.time);
                timer(seconds);
            }

            buttons.forEach(button => button.addEventListener('click', startTimer));
            document.customForm.addEventListener('submit', function(e){
                e.preventDefault();
                const mins = this.minutes.value;
                timer(mins * 60);
                this.reset();

            });
        </script>
    </body>
</html>